!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).idle=e()}(this,function(){"use strict";function r(e,t){var n,s=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)),s}function s(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,n){return(u=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch(t){return}}}()?Reflect.construct:function(t,e,n){var s=[null];s.push.apply(s,e);s=new(Function.bind.apply(t,s));return n&&o(s,n.prototype),s}).apply(null,arguments)}function a(t){return c(t)&&t()}var c=function(t){return"function"==typeof t},l=function(t){return"[object Object]"===Object.prototype.toString.call(t)},f=function(t){return"[object Array]"===Object.prototype.toString.call(t)},h=function(t){if(!f(t))return[];for(var e=[],n=0;n<t.length;n++)t.indexOf(t[n])===n&&e.push(t[n]);return e},p=function(){},v=1,y=function(){function o(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i(this,"isIdle",!1),i(this,"timer",null),i(this,"status",v),i(this,"currentTaskIndex",0),i(this,"eventHandler",this.eventHandler.bind(this)),l(t)&&Object.assign(n,t),f(t)&&(f(n.tasks)?n.tasks=t.concat(n.tasks):n.tasks=t),c(t)&&(f(n.tasks)?n.tasks=[t].concat(n.tasks):n.tasks=[t]);t=n.events;f(t)&&(o.events=o.events.concat(t)),this.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({target:document.body,timeout:3e3,interval:1e3,loop:!1,enableMousemove:!1,tasks:[],events:[],onDispose:p,onPause:p,onResume:p},n),this.options.enableMousemove&&o.events.push("mousemove"),o.events=h(o.events);var s=this.options.target;o.events.forEach(function(t){s.addEventListener(t,e.eventHandler)}),this.start()}var t,e,n;return t=o,(e=[{key:"run",value:function(){var t=this.options,e=t.tasks,n=t.loop;this.status===v&&(e.length||this.dispose(),t=this.currentTaskIndex===e.length-1,e=e[this.currentTaskIndex],a(e),n&&t&&(this.currentTaskIndex=0,this.start()),!n&&t&&this.dispose(),t||(this.currentTaskIndex++,this.start()))}},{key:"pause",value:function(t){this.status===v&&(this.status=2,t=t||this.options.onPause,a(t))}},{key:"resume",value:function(t){2===this.status&&(this.status=v,t=t||this.options.onResume,a(t),this.start())}},{key:"clearTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"eventHandler",value:function(){this.isIdle=!1,this.start()}},{key:"start",value:function(){var t=this;this.clearTimer();var e=this.options,n=e.interval,e=e.timeout,e=this.isIdle?n:e;this.timer=setTimeout(function(){t.isIdle=!0,t.run()},e)}},{key:"dispose",value:function(t){var e=this;this.status=3,this.clearTimer();var n=this.options.target;o.events.forEach(function(t){n.removeEventListener(t,e.eventHandler)});t=t||this.options.onDispose;a(t)}},{key:"stop",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.dispose.apply(this,e)}},{key:"destroy",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.dispose.apply(this,e)}},{key:"push",value:function(t){c(t)&&this.options.tasks.push(t)}},{key:"timeout",value:function(t){this.options.timeout=t}},{key:"interval",value:function(t){this.options.interval=t}},{key:"loop",value:function(t){this.options.loop=t}}])&&s(t.prototype,e),n&&s(t,n),o}();return i(y,"events",["scroll","keydown","touchmove","touchstart","click"]),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return u(y,e)}});
//# sourceMappingURL=idle-state.min.js.map
